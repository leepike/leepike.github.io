---
layout: post
title: "10 to the -9"
date: 2010-01-25
categories: 
  - "fault-tolerance"
  - "hardware"
tags: 
  - "10-9"
  - "probability"
  - "reliability"
  - "safety-critical-systems"
---


\\(10^{-9}\\), or one-in-a-billion, is the famed number given for the maximum probability of a catastrophic failure, per hour of operation, in life-critical systems like commercial aircraft.  The number is part of the folklore of the safety-critical systems literature; where does it come from?

First, it's worth noting just how small that number is.  As pointed out by Driscoll _et al_. in the paper, [Byzantine Fault Tolerance, from Theory to Reality](//books.google.com/books?id=N4tGyPJ5qYkC&pg=PA235&lpg=PA235&dq=byzantine++from+theory+to+reality&source=bl&ots=rx0FcInyRS&sig=tVxuS1kaN8Mhkr0Mks8wuN2Zj3c&hl=en&ei=-XVYS7XWKI7KsQOF5PjFBw&sa=X&oi=book_result&ct=result&resnum=4&ved=0CBsQ6AEwAw#v=onepage&q=byzantine%20%20from%20theory%20to%20reality&f=false), the probability of winning the U.K. lottery is 1 in 10s of millions, and the probability of being struck by lightening (in the U.S.) is \\(1.6 \times 10^{-6},\\) more than a 1,000 times more likely than \\(10^{-9}.\\)

So where did \\(10^{-9}\\) come from?  A nice explanation comes from [a recent paper by John Rushby](http://www.csl.sri.com/users/rushby/abstracts/sefm09):

If we consider the example of an airplane type with 100 members, each flying \\(3000\\) hours per year over an operational life of 33 years, then we have a total exposure of about 107 flight hours. If hazard analysis reveals ten potentially catastrophic failures in each of ten subsystems, then the \`\`budget'' for each, if none are expected to occur in the life of the fleet, is a failure probability of about \\(10^{-9}\\) per hour[^1]. This serves to explain the well-known \\(10^{-9}\\) requirement, which is stated as follows: \`\`when using quantitative analyses. . . numerical probabilities. . . on the order of \\(10^{-9}\\) per flight-hour. . . based on a flight of mean duration for the airplane type may be used. . . as aids to engineering judgment. . . to. . . help determine compliance'' (with the requirement for extremely improbable failure conditions) [^2].

[^1]: E. Lloyd and W. Tye, Systematic Safety: Safety Assessment of Aircraft Systems. London, England: Civil Aviation Authority, 1982, reprinted 1992. Page 37.

[^2]: System Design and Analysis, Federal Aviation Administration, Jun. 21, 1988, advisory Circular 25.1309-1A. Paragraph 10.b.

(By the way, it's worth reading the rest of the paper---it's the first attempt I know of to formally connect the notions of (software) formal verification and reliability.)

So there a probabilistic argument being made, but let's spell it out in a little more detail.  If there are 10 potential failures in 10 subsystems, then there are \\(10 \times 10 = 100\\) potential failures.  Thus, there are \\(2^{100}\\) possible configurations of failure/non-failure in the subsystems.  Only one of these configurations is acceptable---the one in which there are no faults.

If the probability of failure is \\(x,\\) then the probability of non-failure is \\(1 - x.\\)  So if the probability of failure for each subsystem is \\(10^{-9},\\) then the probability of being in the one non-failure configuration is

\\[\displaystyle(1 - 10^{-9})^{100}\\]

We want that probability of non-failure to be greater than the required probability of non-failure, given the total number of flight hours.  Thus,

\\[\displaystyle (1 - 10^{-9})^{100} > 1 - 10^{-7}\\]

which indeed holds:

\\[\displaystyle (1 - 10^{-9})^{100} - (1 - 10^{-7})\\]

is around \\(4.95 \times 10^{-15}.\\)

Can we generalize the inequality?  The hint for how to do so is that the number of subsystems (\\(100\\)) is no more than the overall failure rate divided by the subsystem rate:

\\[\displaystyle \frac{10^{-7}}{10^{-9}}\\]

This suggests the general form is something like

* * *

_Subsystem reliability inequality_: \\[\displaystyle (1 - C^{-n})^{C^{n-m}} \geq 1 - C^{-m}\\]

* * *

where \\(C,\\) \\(n,\\) and \\(m\\) are real numbers, \\(C \geq 1,\\) \\(n \geq 0,\\) and \\(n \geq m.\\)

Let's prove the inequality holds.  [Joe Hurd](http://www.gilith.com/) figured out the proof, sketched below (but I take responsibility for any mistakes in it's presentation).  For convenience, we'll prove the inequality holds specifically when \\(C = e,\\) but the proof can be generalized. 

First, if \\(n = 0,\\) the inequality holds immediately. Next, we'll show that

\\[\displaystyle (1 - e^{-n})^{e^{n-m}}\\]

is monotonically non-decreasing with respect to \\(n\\) by showing that the derivative of its logarithm is greater or equal to zero for all \\(n > 0.\\)  So the derivative of its logarithm is

\\[\displaystyle \frac{d}{dn} \; e^{n-m}\ln(1-e^{-n}) = e^{n-m}\ln(1-e^{-n})+\frac{e^{-m}}{1-e^{-n}}\\]

We show

\\[\displaystyle e^{n-m}\ln(1-e{-n})+\frac{e^{-m}}{1-e^{-n}} \geq 0\\]

iff

\\[\displaystyle e^{-m}\left(e^{n}\ln(1-e^{-n}) + \frac{1}{1-e^{-n}}\right) \geq 0\\]

and since \\(e^{-m} \geq 0,\\)

\\[\displaystyle e^{n}\ln(1-e^{-n}) + \frac{1}{1-e^{-n}} \geq 0\\]

iff

\\[\displaystyle e^{n}\ln(1-e^{-n}) \geq - \frac{1}{1-e^{-n}}\\]

Let \\(x = e^{-n}\\), so the range of \\(x\\) is \\(0 < x < 1.\\) \\[\displaystyle\ln(1-x) \geq - \frac{x}{1-x}\\]

Now we show that in the range of \\(x\\), the left-hand side is bounded below by the right-hand side of the inequality. \\[\displaystyle \lim\_{x \to 0} \; \ln(1-x) = 0\\]

and \\[\displaystyle - \frac{x}{1-x} = 0\\]

Now taking their derivatives \\[\displaystyle \frac{d}{dx} \; \ln(1-x) = \frac{1}{x-1}\\]

and \\[\displaystyle \frac{d}{dx} \; - \frac{x}{1-x} = - \frac{1}{(x-1)^2}\\]

Because \\[\displaystyle x-1 \geq - (x-1)^2\\] in the range of \\(x\\), our proof holds.

The purpose of this post was to clarify the folklore of ultra-reliable systems.  The subsystem reliability inequality presented allows for easy generalization to other reliable systems.

Thanks again for the help, Joe!<!--more-->
